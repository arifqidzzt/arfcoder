{{define "base.html"}}
<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Modern Minimalist E-commerce for Digital Services and Products">
    <title>{{if .Title}}{{.Title}} | {{end}}ArfCoder | Digital Services & Product Store</title>
    <link rel="icon" href="/static/images/app_icon.png">

    <!-- Google Fonts - Geist equivalent (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Main Styles -->
    <link rel="stylesheet" href="/static/css/styles.css">

    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="font-sans antialiased selection:bg-black selection:text-white" x-data="appState()" x-init="init()"
    hx-boost="true">

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-[100] space-y-2"></div>

    <!-- Main Content Wrapper -->
    <div id="app" class="min-h-screen">
        {{template "navbar" .}}

        <main id="content" hx-swap="innerHTML" hx-target="this">
            {{template "content" .}}
        </main>

        {{template "footer" .}}
    </div>

    <!-- Chat Widget -->
    {{template "chat_widget" .}}

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/app.js"></script>
    <script>
        // Initialize AOS
        AOS.init({ duration: 800, once: true, easing: 'ease-out-cubic' });

        // Initialize Lucide icons
        lucide.createIcons();

        // Re-init on HTMX swap
        document.body.addEventListener('htmx:afterSwap', function () {
            AOS.refresh();
            lucide.createIcons();
        });
    </script>
</body>

</html>
{{end}}
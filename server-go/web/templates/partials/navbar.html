{{define "navbar"}}
<nav
    class="flex items-center justify-between px-8 py-4 border-b border-border/40 bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all">
    <a href="/" hx-get="/" hx-target="#content" hx-push-url="true" class="flex items-center gap-3 group">
        <div class="w-10 h-10 flex items-center justify-center overflow-hidden">
            <img src="/static/images/app_icon.png" alt="Logo" class="w-full h-full object-cover">
        </div>
        <span class="text-xl font-bold tracking-tighter">ARFCODER</span>
    </a>

    <div class="hidden md:flex space-x-8 text-sm font-medium">
        <a href="/" hx-get="/" hx-target="#content" hx-push-url="true"
            class="hover:text-gray-600 transition-colors">Beranda</a>
        <a href="/products" hx-get="/products" hx-target="#content" hx-push-url="true"
            class="hover:text-gray-600 transition-colors">Produk</a>
        <a href="/services" hx-get="/services" hx-target="#content" hx-push-url="true"
            class="hover:text-gray-600 transition-colors">Jasa</a>
        <template x-if="user">
            <a href="/orders" hx-get="/orders" hx-target="#content" hx-push-url="true"
                class="hover:text-gray-600 transition-colors">Pesanan</a>
        </template>
        <template x-if="user && (user.role === 'ADMIN' || user.role === 'SUPER_ADMIN')">
            <a href="/admin" class="text-purple-600 font-bold hover:text-purple-800 transition-colors">Dashboard</a>
        </template>
    </div>

    <div class="flex items-center space-x-4">
        <!-- User Menu -->
        <template x-if="user">
            <div class="flex items-center space-x-4">
                <a href="/profile" hx-get="/profile" hx-target="#content" hx-push-url="true"
                    class="flex items-center gap-2 hover:bg-gray-50 px-3 py-2 rounded-full transition-colors group">
                    <div
                        class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs overflow-hidden border border-gray-200">
                        <template x-if="user.avatar">
                            <img :src="user.avatar" :alt="user.name" class="w-full h-full object-cover">
                        </template>
                        <template x-if="!user.avatar">
                            <span class="text-black" x-text="user.name?.charAt(0).toUpperCase()"></span>
                        </template>
                    </div>
                    <span class="text-sm font-medium hidden sm:inline group-hover:text-black" x-text="user.name"></span>
                </a>
                <button @click="logout()"
                    class="p-2 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded-full transition-colors"
                    title="Keluar">
                    <i data-lucide="log-out" class="w-[18px] h-[18px]"></i>
                </button>
            </div>
        </template>

        <!-- Login Button -->
        <template x-if="!user">
            <a href="/login" hx-get="/login" hx-target="#content" hx-push-url="true"
                class="p-2 hover:bg-gray-100 rounded-full transition-colors">
                <i data-lucide="user" class="w-[18px] h-[18px]"></i>
            </a>
        </template>

        <!-- Cart -->
        <a href="/cart" hx-get="/cart" hx-target="#content" hx-push-url="true"
            class="p-2 bg-black text-white rounded-full relative hover:bg-gray-800 transition-colors">
            <i data-lucide="shopping-bag" class="w-[18px] h-[18px]"></i>
            <template x-if="cart.items.length > 0">
                <span
                    class="absolute -top-1 -right-1 bg-accent text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full"
                    x-text="cart.items.length"></span>
            </template>
        </a>
    </div>
</nav>
{{end}}
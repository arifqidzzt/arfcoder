<div class="p-4 md:p-10 max-w-6xl mx-auto">
    <div class="mb-10">
        <h1 class="text-3xl font-black uppercase tracking-tighter">Manajemen Voucher</h1>
        <p class="text-gray-400 font-medium">Buat kode promo untuk meningkatkan penjualan.</p>
    </div>

    <!-- Create Voucher Form -->
    <div class="bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-soft mb-10">
        <h3 class="font-black text-[10px] uppercase tracking-[0.2em] text-gray-400 mb-8">Buat Voucher Baru</h3>
        <form hx-post="/api/vouchers" hx-target="body" hx-push-url="true" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Kode Voucher</label>
                    <input type="text" name="code" placeholder="DISKON50" required class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-black uppercase tracking-widest">
                </div>
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Tipe Diskon</label>
                    <select name="type" class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-bold text-xs">
                        <option value="FIXED">Potongan Harga (Rp)</option>
                        <option value="PERCENT">Persen (%)</option>
                    </select>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Nilai</label>
                    <input type="number" name="value" placeholder="Contoh: 10000" required class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-bold text-xs">
                </div>
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Min. Belanja</label>
                    <input type="number" name="minPurchase" value="0" class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-bold text-xs">
                </div>
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Limit Pakai (0=Unl)</label>
                    <input type="number" name="usageLimit" value="0" class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-bold text-xs">
                </div>
            </div>

            <div class="space-y-2">
                <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1">Kadaluarsa Pada</label>
                <input type="datetime-local" name="expiresAt" required class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none font-bold text-xs">
            </div>

            <button type="submit" class="w-full py-4 bg-black text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-800 transition-all">
                Simpan Voucher
            </button>
        </form>
    </div>

    <!-- Active Vouchers List -->
    <div class="bg-white rounded-[2.5rem] border border-gray-100 shadow-soft overflow-hidden">
        <div class="overflow-x-auto">
            <table class="w-full text-left text-sm min-w-[800px]">
                <thead>
                    <tr class="bg-gray-50/50 border-b border-gray-100">
                        <th class="px-8 py-5 font-black text-[10px] text-gray-400 uppercase tracking-widest">Kode</th>
                        <th class="px-8 py-5 font-black text-[10px] text-gray-400 uppercase tracking-widest text-center">Tipe</th>
                        <th class="px-8 py-5 font-black text-[10px] text-gray-400 uppercase tracking-widest text-center">Nilai</th>
                        <th class="px-8 py-5 font-black text-[10px] text-gray-400 uppercase tracking-widest text-center">Usage</th>
                        <th class="px-8 py-5 font-black text-[10px] text-gray-400 uppercase tracking-widest text-right">Aksi</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-50">
                    {{range .Vouchers}}
                    <tr class="hover:bg-gray-50/50 transition-colors">
                        <td class="px-8 py-6 font-mono font-black uppercase tracking-tighter text-lg text-accent">{{.Code}}</td>
                        <td class="px-8 py-6 text-center">
                            <span class="px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest {{if eq .Type "PERCENT"}}bg-blue-50 text-blue-600{{else}}bg-green-50 text-green-600{{end}}">
                                {{.Type}}
                            </span>
                        </td>
                        <td class="px-8 py-6 text-center font-black">
                            {{if eq .Type "PERCENT"}}{{.Value}}%{{else}}Rp {{formatNumber .Value}}{{end}}
                        </td>
                        <td class="px-8 py-6 text-center font-bold text-gray-400">
                            {{.UsedCount}} / {{if eq .UsageLimit 0}}âˆž{{else}}{{.UsageLimit}}{{end}}
                        </td>
                        <td class="px-8 py-6 text-right">
                            <button 
                                hx-delete="/api/vouchers/{{.ID}}"
                                hx-confirm="Hapus voucher ini?"
                                hx-target="closest tr"
                                hx-swap="outerHTML"
                                class="p-2.5 bg-gray-50 text-red-500 rounded-xl hover:bg-red-50 transition-all"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
                            </button>
                        </td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
    </div>
</div>
